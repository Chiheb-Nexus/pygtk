2003-12-23  James Henstridge  <james@daa.com.au>

	* codegen/h2def.py (clean_func): apply patch from Jon Willeke
	<willeke@users.sourceforge.net> to strip out eg. G_BEGIN_DECLS,
	which was tripping up some of the following regexps (fixes bug
	#129414).

	* pygobject.c (pygobject_get_property): explicitly check if the
	property is readable first, and raise an exception otherwise
	(pygobject_set_property): check if property is readable (fixes bug
	#121544).

2003-12-22  James Henstridge  <james@daa.com.au>

	* setup.py: distutils fixes from Alif Wahid
	<awah005@users.sourceforge.net> (bug #123014).

	* gtk/gdk.override (ignore-win32): ignore gdk_font_get_display.

	* gtk/gtk.override (ignore): ignore plug construct functions.
	(ignore-win32): ignore gtk_plug_new_for_display.

	* gtk/gdk.defs (pixmap_foreign_new_for_display): caller owns return.
	(pixmap_foreign_new): same here (bug #129754).
	(window_foreign_new): same here.
	(window_foreign_new_for_display): same here.

2003-12-20  Gustavo J. A. M. Carneiro  <gustavo@users.sourceforge.net>

	* codegen/codegen.py (Wrapper.get_initial_constructor_substdict):
	now receives the constructor FunctionDef as argument.
	(Wrapper.write_constructor): Pass the constructor
	get_initial_constructor_substdict.
	(GObjectWrapper.get_initial_constructor_substdict): Receive/pass
	constructor argument. If constructor's caller_owns_return flag is
	set to #f, add an extra g_object_ref(self->obj).
	(GBoxedWrapper.get_initial_constructor_sub): Receive/pass extra
	constructor argument.
	(GPointerWrapper.get_initial_constructor_substdict): idem.

2003-12-17  James Henstridge  <james@daa.com.au>

	* gtk/gtk-types.defs (TextSearchFlags): GtkTextSearchFlags is a
	flags value, rather than an enum.

2003-12-16  James Henstridge  <james@daa.com.au>

	* configure.in (CFLAGS): add -fno-strict-aliasing to CFLAGS if the
	compiler supports it.  The Python API breaks some of the strict
	aliasing rules.

	* acinclude.m4 (JH_ADD_CFLAG): new macro to check whether the
	compiler supports a particular cflag.

	* codegen/codegen.py
	(GInterface.get_initial_class_substdict): GInterface wrappers
	should be sizeof(PyObject), since they are mixins.

2003-12-19  Johan Dahlin  <johan@gnome.org>

	* gtk/gdk.defs (fill): Change to guint32. Patch by
	hyriand@thegraveyard.org. Fixes 121611.

	* gtk/pygtkcellrenderer.c
	(pygtk_generic_cell_renderer_start_editing): Allow return values
	that are NULL. Patch by Tim Evans, fixes #122786

	* gtk/gtktreeview.override (_wrap_gtk_tree_model_iter_children):
	Allow parent to be None. Patch by Benjamin CAMA, fixes #124593

	* gtk/gtk.defs: Allow all GdkColor arguments for
	gtk_widget_modify_* to be null. Patch by jkluebs@luebsphoto.com,
	fixes #127178
	(GtkTreeView.expand_row): Set return value to gboolean. Patch by
	Doug Quale, fixes #126406

2003-12-18  Johan Dahlin  <johan@gnome.org>

	* gtk/gtk.defs (set_tip): Allow null for tip_text. Patch by John
	Ehresman, fixes #128623.

	* gtk/pygtktreemodel.c: handle None iterator values. Patch by John
	Ehresman, fixes #126479.

2003-12-09  Johan Dahlin  <johan@gnome.org>

	* gtk/gtktreeview.override (_wrap_gtk_list_store_reorder): Impl.

2003-12-05  Johan Dahlin  <johan@gnome.org>

	* gtk/gtktreeview.override (pygtk_tree_selection_foreach_marshal):
	Increase the ref count on Py_None (#128448, Vsevolod Fedorov)

	* gtk/gtk-types.c (pygtk_tree_model_row_get_parent): Swap parent
	and child argument. (#123605, patch by Steve Chaplin)

2003-10-23  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gtk.override (_wrap_gtk_item_factory_create_items): Use
	GdkPixbuf objects instead of raw strings, Thanks to Rob Melby for
	the patch, #123456

	* gtk/gtkwidget.override (_wrap_gtk_widget_size_request): pass
	back the values instead of pointers to them. Thanks to Rob Melby
	for the patch, #125272

2003-09-17  James Henstridge  <james@daa.com.au>

	* gtk/gtk.override (_wrap_gtk_clipboard_set_with_data): wrap
	function.

2003-09-16  James Henstridge  <james@daa.com.au>

	* gtk/gdk.override (_wrap_gdk_window_set_geometry_hints): add wrapper.
	(gdk_window_peek_children): ignore.
	(_wrap_gdk_window_set_icon_list): add wrapper.
	(_wrap_gdk_screen_get_setting): add wrapper (this one spews lots
	of warnings though.  Not sure how to fix properly).

2003-09-15  James Henstridge  <james@daa.com.au>

	* gtk/gdk.override (_wrap_gdk_display_get_window_at_pointer): add
	wrapper.
	(_wrap_gdk_drag_find_window_for_screen): add wrapper.

	* gtk/gtkgl*: remove files.

	* gtk/Makefile.am: remove gtkgl binding.

	* configure.in (build_gtkgl): remove gtkgl bindings.

2003-09-04  James Henstridge  <james@daa.com.au>

	* gtk/gtk.override (headers): add defs for GdkDisplay and GdkScreen

	* gtk/gtk.defs, gtk/gtk-types.defs: update for 2.2 APIs.  Covers
	bug #113224, #113908, #117929 and #121031.

	* gtk/gdk.override (_wrap_gdk_pixbuf_get_formats): implement
	function.  Returns a list of dictionaries (bug #118253).

2003-09-03  James Henstridge  <james@daa.com.au>

	* gtk/gdk.override: add some overrides for GdkDisplay and GdkScreen.

	* gtk/Makefile.am (gtk_overrides): gtk.c doesn't depend on
	gdk.override.

	* gtk/gdk.override: hack so that GDK_DISPLAY() is the cast macro.

	* gtk/gdk.defs, gtk/gdk-types.defs: incorporate new 2.2 APIs.

	* configure.in: set version number to 2.1.0 so that it differs
	from the 2.0 branch.

2003-09-02  James Henstridge  <james@daa.com.au>

	* ChangeLog.pre-2-0: rename old change log.

