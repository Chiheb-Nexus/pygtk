2006-04-04  John Ehresman  <jpe@wingware.com>

    reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gtktreeview.override:
	Make sure gtk.TreeView.cell_get_size() allows
	the usage of the in argument. Fixes #326357

2006-04-03  Johan Dahlin  <jdahlin@async.com.br>

	* codegen/codegen.py:
	Fit in 80 characters, do not use \

	* codegen/argtypes.py:
	* codegen/codegen.py:
	* codegen/definitions.py:
	* codegen/defsconvert.py:
	* codegen/defsparser.py:
	* codegen/docextract.py:
	* codegen/docextract_to_xml.py:
	* codegen/docgen.py:
	* codegen/h2def.py:
	* codegen/mkskel.py:
	* codegen/override.py:
	* codegen/reversewrapper.py:
	* examples/glade/autoconnect.py:
	* examples/gobject/editable-interface.py:
	* examples/gobject/signal.py:
	* examples/gtk/bin.py:
	* examples/gtk/filechooser.py:
	* examples/gtk/scrollable.py:
	* examples/gtk/sizegroup.py:
	* examples/gtk/uimanager.py:
	* examples/ide/edit.py:
	* examples/ide/gtkdb.py:
	* examples/ide/gtkprof.py:
	* examples/pango/pangocairo-simple.py:
	* examples/pango/utf8-demo.py:
	* examples/pygtk-demo/demos/changedisplay.py:
	* examples/pygtk-demo/demos/dnd.py:
	* examples/pygtk-demo/demos/dndpixmap.py:
	* examples/pygtk-demo/demos/entry_completion.py:
	* examples/pygtk-demo/demos/expander.py:
	* examples/pygtk-demo/demos/hypertext.py:
	* examples/pygtk-demo/demos/list_store.py:
	* examples/pygtk-demo/demos/textview.py:
	* examples/pygtk-demo/demos/tree_store.py:
	* examples/pygtk-demo/demos/treemodel.py:
	* examples/simple/dnd.py:
	* examples/simple/dndpixmap.py:
	* examples/simple/hello.py:
	* examples/simple/scribble.py:
	* examples/simple/simple.py:
	* examples/simple/tooltip.py:
	* gtk/__init__.py:
	* gtk/compat.py:
	* gtk/keysyms.py:
	* ltihooks.py:
	* setup.py:
	* tests/common.py:
	* tests/runtests.py:
	* tests/test_actiongroup.py:
	* tests/test_conversion.py:
	* tests/test_dialog.py:
	* tests/test_enum.py:
	* tests/test_gdkevent.py:
	* tests/test_liststore.py:
	* tests/test_radiobutton.py:
	* tests/test_style.py:
	* tests/testmodule.py:

	Run reindent.py on all python code.

2006-04-02  Johan Dahlin  <johan@gnome.org>

	* gtk/gdk.defs (rotate_simple): Add gdk.Pixbuf.rotate_simple,
	fixes #314164 (Karel Vervaeke)

	* examples/pygtk-demo/demos/treemodel.py:
	Check for null, so it can be used with a model filter,
	fixes #311459 (Stephen Kennedy)

	* examples/gtk/widget.py: Remove tabs fixes #325320
	(Dieter Verfaillie)

2006-04-02  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtk-types.c (PyGdkWindow_PropertyGet): Change property size
	limit from 9999 to G_MAXLONG.  Thanks Wander Boessenkool.
	Fixes #327778.

	* pango.override (_wrap_pango_layout_line_index_to_x): First
	keyword name should be index, not x_pos, as pointed out by John
	Finlay.  Fixes #316581.

	* gtk/gtk.defs: Mark gtk_tree_row_reference_free as deprecated.
	Fixes #309811.

	* gtk/gtkcontainer.override
	(_wrap_gtk_container_class_list_child_properties): Deprecate in
	favour of gtk.Container.list_child_properties.
	(_wrap_gtk_container_list_child_properties): Add
	gtk.Container.list_child_properties as classmethod.
	(_wrap_gtk_container_class_install_child_property): Deprecate in
	favour of gtk.Container.install_child_property.
	(_wrap_gtk_container_install_child_property): Add
	gtk.Container.install_child_property as clasmethod.  Fixes #308394.

	* gtk/gtktreeview.override: Remove gtk_tree_view_get_visible_rect
	duplicate override.

	* gtk/gtk.override: Make the "new-constructor
	GTK_TYPE_MESSAGE_DIALOG" declaration conditional on gtk+ >= 2.9,
	to match the contents of the constructor.

2006-04-02  Johan Dahlin  <johan@gnome.org>

	* gtk/gdk.override (_wrap_gdk_draw_indexed_image):
	wrap, Fixes #333431 (Hamish Moffatt)
	* tests/test_gdk.py (GdkTest.testDrawIndexedImage): Add test

	* gtk/gtk.defs (spin): Set default value of increment to
	1, fixes #325452 (Sebastian Rittau)

	* pango.override:
	* tests/Makefile.am:
	* tests/test_pango.py:

	Set default markup accel marker to \x00, add tests,
	Fixes #329658 (Johan Svedberg)

2006-04-02  Ben Caradoc-Davies  <ben@wintersun.org>

	reviewed by: Johan

	* examples/pygtk-demo/demos/pixbufs.py: Remove
	discontinuous motion, fixes #327931

2006-04-02  Johan Dahlin  <johan@gnome.org>


	* gtk/gtkmodule.c (init_gtk): GDK_PARENT_RELATIVE constant

	* gtk/gtk-types.c (pygtk_style_helper_setitem): Add support for
	GDK_PARENT_RELATIVE in style pixmaps.

	Fixes #320248 (Nikos Kouremenos)

2006-04-01  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* codegen/override.py (Overrides.__parse_override): Check and
	abort if a function is being overridden more than once.

2006-04-01  Rauli Ruohonen  <raulir@iki.fi>

	* codegen/codegen.py (Wrapper.write_functions): Add missing 'data'
	parameter when calling self.write_function.

	* pangocairo.override: Wrap pango_cairo_context_set_font_options
	and pango_cairo_context_get_font_options.  Fixes #328108.

	Reviewed by Gustavo Carneiro.

2006-04-01  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* codegen/codegen.py (Wrapper.write_virtuals): Use
	PyObject_GetAttrString, not PyDict_GetItemString, fixes #327715.

	* gtk/pygtk.h, gtk/gtkmodule.c: Export pygtk_tree_path_to_pyobject
	and pygtk_tree_path_from_pyobject as public APIs.  Fixes #318021.

	* codegen/argtypes.py: Add suppport for const object args.
	Patch by wollny@cbs.mpg.de, plus some additional changes for code
	style improvements and a bug fix.

	* gtk/gtkmodule.c (_pygtk_log_func): Call g_log_default_handler
	when python isn't initialized.  Fixes #334188.

	* examples/Makefile.am (EXTRA_DIST): Ship new editable interface example.

	* examples/gobject/editable-interface.py: Add small example of
	overriding GtkEditable interface method and chaining to parent.

	* codegen/codegen.py: Bug 334986: "Make it possible to
	re-implement interfaces and chain to parent impl."

2006-04-01  Johan Dahlin  <johan@gnome.org>

	* codegen/h2def.py (proto_pat): Allow whitespace before
	last parenthesis. Fixes #317124

2006-04-01  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtk.defs (GtkSpinButton.input, GtkEditable.do_insert_text) 
	(GtkEditable.get_selection_bounds,
	GtkMenuItem.toggle_size_request): Add (direction ...) specifiers
	to these virtuals.  Probably more of these are missing, though.

	* codegen/codegen.py,
	* codegen/definitions.py,
	* codegen/reversewrapper.py:
	Add support for int* and double* (and basic infrastructure to
	support other types in the future) parameters for "reverse
	wrappers".  To use this feature one needs to help the
	codegenerator by adding (direction "out") or (direction "inout") to
	the parameter definitions as appropriate.  Fixes #335964.

2006-04-01  John Finlay  <finlay@moerari.com>

	reviewed by: Johan

	* gtk/gdk.defs:
	* gtk/gtk.defs:
	* gtk/gtk.override:
	* gtk/gtktextview.override:
	* gtk/gtktreeview.override:
	* gtk/gtkwidget.override:
	Add missing bindings, fixes #316881

2006-04-01  Johan Dahlin  <johan@gnome.org>

	* gtk/gdk.defs: Remove display_open_default_libgtk_only,
	it should not be wrapped.
	Fixes #321476

2006-04-01  Marco Cabizza  <marco87@gmail.com>

	reviewed by: Johan

	* gtk/gdk.defs:
	add gdk_screen_get_rgba_colormap and gdk_screen_get_rgba_visual,
	Fixes 328996

2006-04-01  Johan Dahlin  <johan@gnome.org>

	* gtk/gtkmodule.c: (init_gtk):
	* pangomodule.c: (initpango):
	Set default encoding to utf-8 in pango instead of gtk.
	Fixes #328031

2006-04-01  Johan Dahlin  <johan@gnome.org>

	* Makefile.am:
	* configure.in:
	* dsextras.py:
	* gobject/Makefile.am:
	* gobject/gobjectmodule.c:
	* gobject/pygboxed.c:
	* gobject/pygenum.c:
	* gobject/pygflags.c:
	* gobject/pygiochannel.c:
	* gobject/pygmaincontext.c:
	* gobject/pygmainloop.c:
	* gobject/pygobject.c:
	* gobject/pygparamspec.c:
	* gobject/pygpointer.c:
	* gobject/pygsource.c:
	* gobject/pygtype.c:
	* gtk/Makefile.am:
	* pygtk.py:
	* tests/Makefile.am:
	Remove gobject and depend on pygobject 2.10.0

2006-04-01  Johan Dahlin  <jdahlin@async.com.br>

	* codegen/codegen.py: Mark function, methods and getsets as const.

2006-04-01  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtk.override (_wrap_gtk_message_dialog_new): Add missing
	"new-constructor GTK_TYPE_MESSAGE_DIALOG" codegen declaration.

	* codegen/codegen.py: Add support for docstrings in .defs.  To use
	it, add (docstring "foo bar") to class, function or method
	definitions.  Fixes bug #322843.

	* pangocairomodule.c (initpangocairo): Fix compiler warning.

	* m4/python.m4: Fix "underquoted definition of AM_CHECK_PYMOD" warning.

	* gtk/gtk.override (_wrap_gtk_message_dialog_new): On gtk+ 2.9,
	fix constructor to allow subclassing.  Fixes bug #312056.

2006-03-30  Johan Dahlin  <jdahlin@async.com.br>

	* configure.in: Post release version bump

=== PyGTK 2.8.5 ===
2006-03-30  Johan Dahlin  <jdahlin@async.com.br>

	* NEWS: Update.

2006-02-27  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* tests/test_dialog.py (MessageDialogTest.testDialogLeak): Add
	test for bug #332771.

	* tests/test_actiongroup.py (ActionGroupTest.timeout_cb): Use
	self.assertEqual instead of plain assert.

	* gtk/gtk.override (gtk_dialog_new_with_buttons): Remove one too
	many g_object_ref.  Fixes Bug 332771: "gtk.Dialog leak".

2006-02-20  Gustavo J. A. M. Carneiro  <gjc@inescporto.pt>

	* gtk/gdkcairo.override: Don't raise an exception if pangocairo
	import fails, since in this case python itself had already raised
	another exception with more information.

2006-02-14  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gtkclist.override (_wrap_gtk_clist_new_with_titles): Fix typos,
	found by Padraig Brady

2006-02-06  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/__init__.py (_is_pydoc): Do not print the deprecation warning
	if we're running under pydoc.

2006-01-26  Gustavo J. A. M. Carneiro  <gjc@inescporto.pt>

	* examples/pygtk-demo/demos/pixbufs.py (PixbufsDemo.expose_cb):
	Remove the "FIXME: draw_rgb_image_dithalign seems not to be
	available" comment.

	* gtk/gdk.override (_wrap_gdk_draw_rgb_image): Add comment
	explaining why we always call gdk_draw_rgb_image_dithalign instead
	of gdk_draw_rgb_image.
	(_wrap_gdk_draw_gray_image): idem.

2006-01-21  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtk.defs (cell_view_new_with_text): Add
	caller-owns-return to fix a reference leak.
	(cell_view_new_with_markup): idem.
	(cell_view_new_with_pixbuf): idem.
	(combo_box_new_text): idem.
	(combo_box_entry_new_with_model): idem.
	(combo_box_entry_new_text): idem.
	(expander_new_with_mnemonic): idem.
	(file_chooser_button_new_with_backend): idem.
	(file_chooser_button_new_with_dialog): idem.
	(file_chooser_widget_new_with_backend): idem.
	(gtk_font_button_new_with_font): idem.
	(icon_set_new): idem.
	(gtk_icon_view_new_with_model): idem.
	(gtk_menu_tool_button_new_from_stock): idem.
	(toggle_tool_button_new_from_stock): idem.
	(tool_button_new_from_stock): idem.

	* gtk/gdk.defs (pixbuf_loader_new_with_mime_type): Add
	caller-owns-return to fix a reference leak.

2006-01-20  John Ehresman <jpe@wingware.com>

	* gtk/gdk.override (_wrap_gdk_window_new): Bump ref count
	on x11 so destroy() works as expected

	* tests/test_gdk.py: test for the above

2006-01-19  Johan Dahlin  <jdahlin@async.com.br>

	* examples/Makefile.am:
	Install examples
	
	* examples/gtk/widget.py:
	Call unrealize too
	
	* examples/gtk/scrollable.py: 
	Add example of a scrollable widget

2006-01-15  Christopher Aillon  <caillon@redhat.com>

	* gobject/gobjectmodule.c (pyg_strv_to_gvalue):
	Don't call g_value_init since the other *_to_gvalue
	methods expect an already inited GValue

2006-01-11  Johan Dahlin  <jdahlin@async.com.br>

	* configure.in: Post release version bump

=== PyGTK 2.8.4 ===
2006-01-11  Johan Dahlin  <jdahlin@async.com.br>

	* NEWS: Update.

	* Makefile.am: Only install pygtk.pth if we're building gobject.

2006-01-10  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gtk-types.defs (IconView): should implement gtk.CellLayout

2006-01-09  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* Makefile.am,
	* configure.in,
	* gtk/Makefile.am,
	* tests/Makefile.am: Fix pygobject check; Add external pygobject
	include dir to include path instead of the internal one if
	compiling with pygobject 2.9.

	* Makefile.am: Don't build or install gobject bindings if
	pygobject >= 2.9 was found.

	* configure.in: Check for pygobject 2.9; create an AM conditional
	based on it.

=== PyGTK 2.8.3 ===
2006-01-04  Cedric Gustin  <cedric.gustin@gmail.com>

	* dsextras.py (Template.generate): Pass GLOBAL_MACROS (in
	particular HAVE_PYCAIRO) to codegen DefsParser.
	* setup.py: If pangocairo is enabled, add pycairo to the list of
	packages required to build the GTK+ module. Also set HAVE_PYCAIRO.

2005-12-24  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gobject/pygflags.c (pyg_flags_add): Tolerate module == NULL,
	which may happen when called from pyg_flags_from_gtype if a
	wrapper for the GFlags was not registered.

2005-11-15  Johan Dahlin  <johan@gnome.org>

	* gobject/pygobject.c (pygobject_new_with_interfaces): We always
	need to free interfaces since its a null terminated array.

2005-11-13  Johan Dahlin  <johan@gnome.org>

	* gobject/gobjectmodule.c (pyg_type_register): Remove deprecation
	warning.
	
2005-11-13  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtk.defs (gtk_image_new_from_stock)
	(gtk_image_new_from_icon_set, image_new_from_animation)
	(gtk_image_new_from_icon_name)
	(gtk_radio_menu_item_new_from_widget)
	(gtk_radio_menu_item_new_with_mnemonic_from_widget)
	(gtk_radio_menu_item_new_with_label_from_widget): Add missing
	"(caller-owns-return #t)" -- fixes mem leaks.

2005-11-12  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gdk.override (_wrap_gdk_pixbuf_animation_iter_advance):
	Missing g_object_unref(ret), since caller owns the return value.

2005-11-11  Johan Dahlin  <jdahlin@async.com.br>

	* examples/gtk/sizegroup.py: New example.

2005-11-09  Gustavo J. A. M. Carneiro  <gjc@inescporto.pt>

	* gobject/pygobject.c (CHECK_GOBJECT): Use %p formatter instead of 0x%x.

	* gobject/pygobject-private.h (pyg_gil_state_ensure)
	(pyg_gil_state_release): Sync these macro definitions with the
	version in pygobject.h, i.e. don't call pygobject API
	replacements, call the Python API directly.

	* tests/Makefile.am (tests): Add test_glade.py.

	* tests/test_glade.py: Add this file which was missing from CVS.

	* gtk/gtk.defs (gtk_widget_render_icon): Add missing
	"(caller-owns-return #t)" to plug a leak.

2005-11-03  Manish Singh  <yosh@gimp.org> 

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gobject/gobjectmodule.c: (pyg_integer_richcompare):
	* gobject/pygenum.c: (pyg_enum_richcompare):
	* gobject/pygflags.c: (pyg_flags_richcompare):
	* gobject/pygobject-private.h:
	Prepare for Python 2.5 richcompare changes, fixes #320455.

2005-11-02  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/__init__.py: Remove '' from sys.path if it was added by
	PySys_SetArgv in init_gtk.

2005-10-15  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gtk/gtkobject-support.c (pygtk_custom_destroy_notify): Add
	g_return_if_fail to catch user_data == NULL.

	* gtk/gtktreeview.override (pygtk_set_search_equal_func_marshal):
	Add some NULL parameter checks.  Use PyObject_IsTrue instead of
	comparing agains PyTrue.

2005-10-14  Johan Dahlin  <jdahlin@async.com.br>

	* tests/Makefile.am (tests): 
	* tests/test_gdk.py: Add test

	* gtk/gdk.defs (pixmap_create_from_data)
	(bitmap_create_from_data): use guchar* instead of gchar,
	fixes #318874 (Bob Gibbs)

2005-10-09  Johan Dahlin  <jdahlin@async.com.br>

	* configure.in: post release version bump

=== PyGTK 2.8.2 ===
2005-10-04  Johan Dahlin  <jdahlin@async.com.br>

	* NEWS: Update

2005-10-09  Johan Dahlin  <johan@gnome.org>

	* gobject/pygiochannel.c: (pyg_iowatch_marshal):
	Use GIL state instead of block/unblock. Fixes crasher found
	by Ole Andre Valda Ravnås.

2005-10-04  Johan Dahlin  <jdahlin@async.com.br>

	* configure.in: post release version bump

=== PyGTK 2.8.1 ===
2005-10-04  Johan Dahlin  <jdahlin@async.com.br>

	* NEWS: Update

2005-10-03  Johan Dahlin  <jdahlin@async.com.br>

	* gobject/pygobject.c: (PyGProps_length):
	* gtk/gdk.defs:
	* gtk/gdk.override:
	* gtk/gtk.defs:
	* gtk/gtk.override:
	Fix gcc 4.0 warnings.

2005-10-02  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* tests/test_properties.py (PropertyObject.__gproperties__)
	(PropertyObject.do_get_property, PropertyObject.do_set_property)
	(TestProperties.testUint64): Add guint64 property test case, by
	Johan Dahlin.

	* gobject/pygtype.c (pyg_value_from_pyobject): Accept conversion
	from PyInt (not just PyLong) to guint64.
	(_wrap_g_type_wrapper__get_children): Fix sign/unsigned warning.
	(_wrap_g_type_wrapper__get_interfaces): idem.
	(pyg_value_from_pyobject): idem.

2005-10-01  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* tests/test_subtype.py (TestSubType.testGObjectNewError): Add new
	test for the bug below.

	* gobject/gobjectmodule.c (pyg_object_new): don't unref/sink obj
	if it is NULL.

2005-09-29  Johan Dahlin  <jdahlin@async.com.br>

	* gobject/gobjectmodule.c: (pyg_type_name), (pyg_type_from_name),
	(pyg_type_parent), (pyg_type_is_a), (pyg_type_children),
	(pyg_type_interfaces): Undeprecate for now.

2005-09-28  Gustavo J. A. M. Carneiro  <gjc@inescporto.pt>

	* tests/Makefile.am (tests): Add test_textview.py.

	* tests/test_textview.py: Test gtk.TextView.get_default_attributes().

	* gtk/gtktextview.override
	(_wrap_gtk_text_view_get_default_attributes): Override to
	workaround gtk bug #317455.

	* pangomodule.c (initpango): Fix values of pango.SCALE_X_LARGE and
	pango.SCALE_XX_LARGE.

2005-09-25  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* tests/Makefile.am (EXTRA_DIST): Add leak.glade.

	* tests/test_glade.py: Test case for the leak below.

	* gtk/libglade.override (connect_many): Fix a reference leak in 'tuple'.

2005-09-22  Johan Dahlin  <jdahlin@async.com.br>

	* gobject/gobjectmodule.c: (pyg_type_from_name):
	* gobject/pygobject.c: (pygobject_connect),
	(pygobject_connect_after), (pygobject_connect_object),
	(pygobject_connect_object_after), (pygobject_emit),
	(pygobject_stop_emission):
	Include the object and the name of the signal in TypeErrors

2005-09-20  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gtk.defs (Entry.set_completion): Add null-ok

2005-09-16  John Ehresman  <jpe@wingware.com>

	* gtk/gdk.override (_wrap_gdk_event_tp_setattr): Allow subwindow
	to be set for enter & leave notify events.

2005-09-16  John Ehresman  <jpe@wingware.com>

	* gobjectmodule.c (initgobject): Add gobject.Warning Warning subclass
	and redirect all g_log messages for the "GLib", "Glib-GObject", and 
	"GThread" domains to the python warning system

	* pangomodule.c (initpango): Add pango.Warning Warning subclass
	and redirect all g_log messages for the "Pango" domain to the 
	python warning system

	* gtkmodule.c (initgtk): Move gtk Warning subclass from the gdk
	module to the gtk module and added redirections for g_log messages 
	for the "Gdk" and "GdkPixbuf" domains to the python warning system

	* gtk/__init__.py: Set gdk.Warning = gtk.Warning for backward
	compatibility

2005-09-13  Johan Dahlin  <jdahlin@async.com.br>

	* gtk/gdk.defs:
	* gtk/gtk.defs:
	* gtk/gtk.override:
	* gtk/gtktextview.override:
	* gtk/gtktreeview.override:
	* gtk/gtkwidget.override:

	Revert Johns latest commit.

2005-09-13  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gobject/gobjectmodule.c (add_properties): Append extra
	information to the exception value strings to help contextualize
	any errors that occur while registering properties.

2005-09-06  John Finlay  <finlay@moeraki.com>

	* gtk/gdk.defs (set_urgency_hint): Add.

	* gtk/gtktreeview.override (_wrap_gtk_tree_view_get_visible_range):
	Add.

	* gtk/gtk.defs (set_drag_dest_item): Allow path to be None.
	(get_visible_range): Add.

2005-09-05  John Finlay  <finlay@moeraki.com>

	* gtk/gtk.defs (set_cursor): Allow cell to be None

	* gtk/gtkwidget.override (_wrap_gtk_drag_source_set_icon_name1): Add.

	* gtk/gtk.defs (gtk_drag_source_set_icon_name): Add as a widget method
	and deprecate function gtk.drag_source_set_icon_name.

	* gtk/gdk.defs (set_icon_name): Add.

	* gtk/gtktextview.override (_wrap_gtk_text_view_get_iter_at_position):
	Add.

	* gtk/gtk.override (_wrap_gtk_clipboard_request_image): Add.

	* gtk/gtk.defs (gtk_alternative_dialog_button_order)
	(gtk_clipboard_request_image, gtk_clipboard_wait_for_image)
	(gtk_clipboard_set_image, gtk_clipboard_wait_is_image_available)
	(drag_source_add_iamge_targets, drag_source_add_uri_targets):
	Add defs.

2005-09-02  Johan Dahlin  <jdahlin@async.com.br>

	* gobject/pygparamspec.c (pyg_param_spec_getattr): Sort all attributes
	alphabetically, like python does. Set default value to None
	(pyg_param_spec_getattr): Add default_values fallback, for backwards
	compatibility.

2005-09-02  Gustavo J. A. M. Carneiro  <gjc@gnome.org>

	* gobject/gobjectmodule.c (_wrap_pyg_type_register): Don't crash
	when registering non-types.

	* tests/test_subtype.py: Test registering non-types raises
	TypeError.

	Fixes #315100: "gobject.type_register crashes if parameter is not
	a type."

2005-09-02  Johan Dahlin  <jdahlin@async.com.br>

	* gobject/gobjectmodule.c: (pyg_signal_list_names):
	Also include interfaces, fixes #315038

2005-09-02  Johan Dahlin  <jdahlin@async.com.br>

	* configure.in: post release version bump

	* Changelog.pre-2-8: Move old changelog

